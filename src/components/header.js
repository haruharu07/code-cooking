import React from "react"
import { Link } from "gatsby"
import styled from "styled-components"

import responsive from '../styles/responsive'

const Header = ({ location }) => {

    const rootPath = `${__PATH_PREFIX__}/`

    const logoLink = (
        <Link to="/">
            <svg width="171" height="24" viewBox="0 0 171 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <title>CODE COOKING</title>
            <path d="M49.1885 15.7373C49.0889 17.1143 48.5791 18.1982 47.6592 18.9893C46.7451 19.7803 45.5381 20.1758 44.0381 20.1758C42.3975 20.1758 41.1055 19.625 40.1621 18.5234C39.2246 17.416 38.7559 15.8984 38.7559 13.9707V13.1885C38.7559 11.958 38.9727 10.874 39.4062 9.93652C39.8398 8.99902 40.458 8.28125 41.2607 7.7832C42.0693 7.2793 43.0068 7.02734 44.0732 7.02734C45.5498 7.02734 46.7393 7.42285 47.6416 8.21387C48.5439 9.00488 49.0654 10.1152 49.2061 11.5449H46.5693C46.5049 10.7188 46.2734 10.1211 45.875 9.75195C45.4824 9.37695 44.8818 9.18945 44.0732 9.18945C43.1943 9.18945 42.5352 9.50586 42.0957 10.1387C41.6621 10.7656 41.4395 11.7412 41.4277 13.0654V14.0322C41.4277 15.415 41.6357 16.4258 42.0518 17.0645C42.4736 17.7031 43.1357 18.0225 44.0381 18.0225C44.8525 18.0225 45.459 17.8379 45.8574 17.4688C46.2617 17.0938 46.4932 16.5166 46.5518 15.7373H49.1885ZM61.7916 13.8916C61.7916 15.1514 61.569 16.2559 61.1237 17.2051C60.6784 18.1543 60.0397 18.8867 59.2077 19.4023C58.3815 19.918 57.4323 20.1758 56.36 20.1758C55.2995 20.1758 54.3532 19.9209 53.5211 19.4111C52.6891 18.9014 52.0446 18.1748 51.5875 17.2314C51.1305 16.2822 50.8991 15.1924 50.8932 13.9619V13.3291C50.8932 12.0693 51.1188 10.9619 51.57 10.0068C52.027 9.0459 52.6686 8.31055 53.4948 7.80078C54.3268 7.28516 55.276 7.02734 56.3424 7.02734C57.4088 7.02734 58.3551 7.28516 59.1813 7.80078C60.0133 8.31055 60.6549 9.0459 61.1061 10.0068C61.5631 10.9619 61.7916 12.0664 61.7916 13.3203V13.8916ZM59.1198 13.3115C59.1198 11.9697 58.8795 10.9502 58.3991 10.2529C57.9186 9.55566 57.233 9.20703 56.3424 9.20703C55.4577 9.20703 54.775 9.55273 54.2946 10.2441C53.8141 10.9297 53.5709 11.9375 53.5651 13.2676V13.8916C53.5651 15.1982 53.8053 16.2119 54.2858 16.9326C54.7662 17.6533 55.4577 18.0137 56.36 18.0137C57.2448 18.0137 57.9245 17.668 58.3991 16.9766C58.8737 16.2793 59.1139 15.2656 59.1198 13.9355V13.3115ZM64.0677 20V7.20312H68.0052C69.1302 7.20312 70.135 7.45801 71.0198 7.96777C71.9104 8.47168 72.6048 9.19238 73.1028 10.1299C73.6009 11.0615 73.8499 12.1221 73.8499 13.3115V13.9004C73.8499 15.0898 73.6038 16.1475 73.1116 17.0732C72.6253 17.999 71.9368 18.7168 71.0462 19.2266C70.1555 19.7363 69.1507 19.9941 68.0315 20H64.0677ZM66.7044 9.33887V17.8818H67.9788C69.01 17.8818 69.7981 17.5449 70.343 16.8711C70.888 16.1973 71.1663 15.2334 71.178 13.9795V13.3027C71.178 12.002 70.9085 11.0176 70.3694 10.3496C69.8304 9.67578 69.0423 9.33887 68.0052 9.33887H66.7044ZM83.8339 14.4541H78.7714V17.8818H84.7128V20H76.1347V7.20312H84.6952V9.33887H78.7714V12.3887H83.8339V14.4541ZM101.508 15.7373C101.408 17.1143 100.899 18.1982 99.9787 18.9893C99.0646 19.7803 97.8576 20.1758 96.3576 20.1758C94.717 20.1758 93.425 19.625 92.4816 18.5234C91.5441 17.416 91.0754 15.8984 91.0754 13.9707V13.1885C91.0754 11.958 91.2922 10.874 91.7258 9.93652C92.1594 8.99902 92.7775 8.28125 93.5803 7.7832C94.3889 7.2793 95.3264 7.02734 96.3928 7.02734C97.8693 7.02734 99.0588 7.42285 99.9611 8.21387C100.863 9.00488 101.385 10.1152 101.526 11.5449H98.8889C98.8244 10.7188 98.593 10.1211 98.1945 9.75195C97.802 9.37695 97.2014 9.18945 96.3928 9.18945C95.5139 9.18945 94.8547 9.50586 94.4152 10.1387C93.9816 10.7656 93.759 11.7412 93.7473 13.0654V14.0322C93.7473 15.415 93.9553 16.4258 94.3713 17.0645C94.7932 17.7031 95.4553 18.0225 96.3576 18.0225C97.1721 18.0225 97.7785 17.8379 98.177 17.4688C98.5812 17.0938 98.8127 16.5166 98.8713 15.7373H101.508ZM114.111 13.8916C114.111 15.1514 113.889 16.2559 113.443 17.2051C112.998 18.1543 112.359 18.8867 111.527 19.4023C110.701 19.918 109.752 20.1758 108.68 20.1758C107.619 20.1758 106.673 19.9209 105.841 19.4111C105.009 18.9014 104.364 18.1748 103.907 17.2314C103.45 16.2822 103.219 15.1924 103.213 13.9619V13.3291C103.213 12.0693 103.438 10.9619 103.889 10.0068C104.347 9.0459 104.988 8.31055 105.814 7.80078C106.646 7.28516 107.596 7.02734 108.662 7.02734C109.728 7.02734 110.675 7.28516 111.501 7.80078C112.333 8.31055 112.974 9.0459 113.426 10.0068C113.883 10.9619 114.111 12.0664 114.111 13.3203V13.8916ZM111.439 13.3115C111.439 11.9697 111.199 10.9502 110.719 10.2529C110.238 9.55566 109.553 9.20703 108.662 9.20703C107.777 9.20703 107.095 9.55273 106.614 10.2441C106.134 10.9297 105.89 11.9375 105.885 13.2676V13.8916C105.885 15.1982 106.125 16.2119 106.605 16.9326C107.086 17.6533 107.777 18.0137 108.68 18.0137C109.564 18.0137 110.244 17.668 110.719 16.9766C111.193 16.2793 111.433 15.2656 111.439 13.9355V13.3115ZM126.899 13.8916C126.899 15.1514 126.676 16.2559 126.231 17.2051C125.786 18.1543 125.147 18.8867 124.315 19.4023C123.489 19.918 122.54 20.1758 121.467 20.1758C120.407 20.1758 119.46 19.9209 118.628 19.4111C117.796 18.9014 117.152 18.1748 116.695 17.2314C116.238 16.2822 116.006 15.1924 116 13.9619V13.3291C116 12.0693 116.226 10.9619 116.677 10.0068C117.134 9.0459 117.776 8.31055 118.602 7.80078C119.434 7.28516 120.383 7.02734 121.45 7.02734C122.516 7.02734 123.462 7.28516 124.289 7.80078C125.121 8.31055 125.762 9.0459 126.213 10.0068C126.67 10.9619 126.899 12.0664 126.899 13.3203V13.8916ZM124.227 13.3115C124.227 11.9697 123.987 10.9502 123.506 10.2529C123.026 9.55566 122.34 9.20703 121.45 9.20703C120.565 9.20703 119.882 9.55273 119.402 10.2441C118.921 10.9297 118.678 11.9375 118.672 13.2676V13.8916C118.672 15.1982 118.913 16.2119 119.393 16.9326C119.874 17.6533 120.565 18.0137 121.467 18.0137C122.352 18.0137 123.032 17.668 123.506 16.9766C123.981 16.2793 124.221 15.2656 124.227 13.9355V13.3115ZM133.183 14.8672L131.812 16.3438V20H129.175V7.20312H131.812V13.0039L132.972 11.4131L136.233 7.20312H139.476L134.932 12.8896L139.608 20H136.47L133.183 14.8672ZM143.764 20H141.128V7.20312H143.764V20ZM156.983 20H154.346L149.213 11.5801V20H146.577V7.20312H149.213L154.355 15.6406V7.20312H156.983V20ZM169.771 18.3828C169.296 18.9512 168.625 19.3936 167.758 19.71C166.891 20.0205 165.93 20.1758 164.875 20.1758C163.768 20.1758 162.795 19.9355 161.957 19.4551C161.125 18.9688 160.481 18.2656 160.023 17.3457C159.572 16.4258 159.341 15.3447 159.329 14.1025V13.2324C159.329 11.9551 159.543 10.8506 159.971 9.91895C160.404 8.98145 161.025 8.2666 161.834 7.77441C162.648 7.27637 163.601 7.02734 164.69 7.02734C166.208 7.02734 167.395 7.39062 168.25 8.11719C169.106 8.83789 169.612 9.88965 169.771 11.2725H167.204C167.087 10.54 166.826 10.0039 166.422 9.66406C166.023 9.32422 165.473 9.1543 164.77 9.1543C163.873 9.1543 163.19 9.49121 162.722 10.165C162.253 10.8389 162.016 11.8408 162.01 13.1709V13.9883C162.01 15.3301 162.265 16.3438 162.774 17.0293C163.284 17.7148 164.031 18.0576 165.016 18.0576C166.006 18.0576 166.712 17.8467 167.134 17.4248V15.2188H164.734V13.2764H169.771V18.3828Z" fill="black"/>
            <path d="M26.712 23.6667C19.369 22.3402 11.8484 22.3402 4.50537 23.6667C4.38872 23.6879 4.26886 23.6832 4.15424 23.6529C4.03962 23.6226 3.93304 23.5674 3.84201 23.4913C3.75098 23.4152 3.67773 23.32 3.62742 23.2124C3.57711 23.1049 3.55097 22.9875 3.55085 22.8687V12.7857H27.6665V22.8687C27.6664 22.9875 27.6403 23.1049 27.59 23.2124C27.5396 23.32 27.4664 23.4152 27.3754 23.4913C27.2843 23.5674 27.1778 23.6226 27.0631 23.6529C26.9485 23.6832 26.8287 23.6879 26.712 23.6667V23.6667Z" fill="#FC9E37"/>
            <path d="M25.4595 5.34088C24.9027 5.34037 24.3497 5.43311 23.8234 5.61528C23.0557 3.94651 21.829 2.53182 20.2872 1.53723C18.7454 0.542636 16.9526 0.00940778 15.1191 0.000123344C13.2856 -0.00916109 11.4874 0.505883 9.93573 1.48481C8.38402 2.46374 7.14312 3.86594 6.35864 5.52684C5.58618 5.30967 4.77296 5.28173 3.98747 5.44538C3.20198 5.60902 2.46724 5.95946 1.84514 6.46717C1.22304 6.97489 0.731792 7.625 0.412787 8.36275C0.0937821 9.1005 -0.0436396 9.90429 0.0120974 10.7064C0.0678344 11.5085 0.315098 12.2854 0.73306 12.9717C1.15102 13.6581 1.72744 14.2337 2.41376 14.65C3.10007 15.0664 3.87619 15.3114 4.67673 15.3644C5.47727 15.4173 6.27878 15.2767 7.01374 14.9543C7.89711 16.3034 9.10367 17.4091 10.5232 18.1706C11.9427 18.932 13.53 19.3248 15.14 19.3132C16.7501 19.3016 18.3315 18.8859 19.74 18.1041C21.1484 17.3223 22.339 16.1992 23.2029 14.8376C23.8778 15.179 24.6212 15.3629 25.3772 15.3753C26.1331 15.3877 26.8821 15.2284 27.5678 14.9092C28.2536 14.5901 28.8583 14.1194 29.3366 13.5326C29.8149 12.9457 30.1543 12.2579 30.3295 11.5208C30.5046 10.7837 30.5109 10.0164 30.3479 9.27649C30.1849 8.53658 29.8567 7.84328 29.3881 7.24863C28.9195 6.65398 28.3226 6.17342 27.6422 5.84301C26.9618 5.51261 26.2156 5.34093 25.4595 5.34088V5.34088Z" fill="#FC9E37"/>
            <path d="M5.48872 9.65674H5.38106C5.37739 8.22024 5.69461 6.80113 6.30947 5.50351L6.40677 5.54971C5.79875 6.8329 5.48506 8.23622 5.48872 9.65674V9.65674Z" fill="#683A07"/>
            <path d="M24.7597 9.65675H24.6521C24.6554 8.26897 24.3561 6.89723 23.775 5.63755L23.8727 5.59235C24.4604 6.86619 24.7631 8.25336 24.7597 9.65675V9.65675Z" fill="#683A07"/>
            <path d="M3.56384 17.4777L3.53787 17.3729C3.56826 17.3654 6.62787 16.6123 11.1117 16.2386C15.2502 15.8937 21.484 15.8105 27.6797 17.373L27.6534 17.4776C21.4729 15.9191 15.2527 16.0019 11.1229 16.346C6.64708 16.7188 3.59415 17.4701 3.56384 17.4777Z" fill="#683A07"/>
            <path d="M3.56384 18.9343L3.53787 18.8295C3.56826 18.822 6.62787 18.0689 11.1117 17.6952C15.2502 17.3503 21.484 17.2671 27.6797 18.8296L27.6534 18.9342C21.4729 17.3757 15.2527 17.4586 11.1229 17.8026C6.64708 18.1754 3.59415 18.9267 3.56384 18.9343Z" fill="#683A07"/>
            <path d="M3.56384 20.3909L3.53787 20.2861C3.56826 20.2786 6.62787 19.5255 11.1117 19.1518C15.2502 18.8069 21.484 18.7237 27.6797 20.2862L27.6534 20.3908C21.4729 18.8323 15.2527 18.9152 11.1229 19.2592C6.64708 19.632 3.59415 20.3833 3.56384 20.3909Z" fill="#683A07"/>
            </svg>
        </Link>
    )

    let logo;
    if (location.pathname === rootPath) {
        logo = <LogoTop className="logo">{logoLink}</LogoTop>
    } else {
        logo = <LogoPage className="logo">{logoLink}</LogoPage>
    }

    function hH() {
        let hHeight = document.querySelector('.header-fixed').clientHeight
        document.querySelector('.header').style.height = hHeight + "px"
    }

    return (
        <GlobalHeader id="page_top" className="header">
            <HeaderInner className="header-fixed" ref={hH}>
                {logo}
            </HeaderInner>
        </GlobalHeader>
    )
}

export default Header

const GlobalHeader = styled.header``

const HeaderInner = styled.div`
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 75px;
    background-color: ${props => props.theme.colors.background};
    box-shadow: 0 0 1px rgba(0, 0, 0, 0.6);
    position: fixed;
    top: 0;
    left: 0;
    z-index: 10;
    ${responsive.sm} {
        height: 65px;
    }
`

const LogoTop = styled.h1`
    line-height: 1;
    a {
        display: block;
    }
    a:hover {
        opacity: 1;
    }
`

const LogoPage = styled.p`
    font-weight: 700;
    line-height: 1;
    a {
        display: block;
    }
    a:hover {
        opacity: 1;
    }
`